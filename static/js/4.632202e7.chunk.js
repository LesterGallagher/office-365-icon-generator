(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{450:function(e,t,n){"use strict";n.d(t,"a",function(){return l});var a=n(454),r=n.n(a),o=function(e){for(var t=e.data,n=3;n<t.length;n+=4)if(0===t[n])return!0;return!1},l=function(e){var t=e.canvas,n=e.url,a=e.firstLetter,l=e.shape;return new Promise(function(e,s){var u=t.getContext("2d"),m=new Image;m.onload=function(){if("square"!==l&&"round"!==l&&"rounded"!==l){var n=function(e){var t=document.createElement("canvas");t.width=512,t.height=512;var n=t.getContext("2d");return[n.getImageData(0,0,512,1),n.getImageData(0,0,1,512),n.getImageData(511,0,1,512),n.getImageData(0,511,512,1)].some(o)}();console.log("asdfasdfasdf"),l=n?"square":"rounded"}var s=(new r.a).getPalette(m,3)[0],f=(t.height-256)/2,p=t.cloneNode(!0),h=p.getContext("2d"),g=t.width-80,d=t.height-80;h.drawImage(m,0,0,m.width,m.height,80,40,g,d),h.save(),h.globalAlpha=.2,h.fillStyle="#000000",i(h,0,f+15,256,256,25,!0,!1),h.fillStyle="#000000",i(h,15,f,256,271,25,!0,!1),h.fillStyle="#000000",i(h,15,f,256,301,25,!0,!1),h.fillStyle="#000000",i(h,30,f-15,256,301,25,!0,!1),h.globalAlpha=1,h.restore();var v=t.width-80,b=t.height-80;u.save(),"rounded"===l?c(u,80,40,v,b,v/2):"round"===l?u.arc(80+v/2,40+b/2,v/2,0,2*Math.PI,!0):"square"===l&&c(u,80,40,v,b,25),u.clip(),u.drawImage(m,0,0,m.width,m.height,80,40,v,b),u.globalCompositeOperation="source-in",u.drawImage(p,0,0),u.globalCompositeOperation="source-over",u.restore(),u.fillStyle="rgb(".concat(s.join(","),")"),i(u,0,128,256,256,25,!0,!1),u.font="206px 'Segoe UI'";var E=s.reduce(function(e,t){return e+t},0);u.fillStyle=E>600?"#000000":"#ffffff",u.textAlign="center",u.fillText(a.toUpperCase(),128,256+256/3.5),e(t)},m.crossOrigin="anonymous",m.src=n})};function i(e,t,n,a,r,o,l,i){if("undefined"==typeof i&&(i=!0),"undefined"===typeof o&&(o=5),"number"===typeof o)o={tl:o,tr:o,br:o,bl:o};else{var c={tl:0,tr:0,br:0,bl:0};for(var s in c)o[s]=o[s]||c[s]}e.beginPath(),e.moveTo(t+o.tl,n),e.lineTo(t+a-o.tr,n),e.quadraticCurveTo(t+a,n,t+a,n+o.tr),e.lineTo(t+a,n+r-o.br),e.quadraticCurveTo(t+a,n+r,t+a-o.br,n+r),e.lineTo(t+o.bl,n+r),e.quadraticCurveTo(t,n+r,t,n+r-o.bl),e.lineTo(t,n+o.tl),e.quadraticCurveTo(t,n,t+o.tl,n),e.closePath(),l&&e.fill(),i&&e.stroke()}function c(e,t,n,a,r,o){e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+a-o,n),e.quadraticCurveTo(t+a,n,t+a,n+o),e.lineTo(t+a,n+r-o),e.quadraticCurveTo(t+a,n+r,t+a-o,n+r),e.lineTo(t+o,n+r),e.quadraticCurveTo(t,n+r,t,n+r-o),e.lineTo(t,n+o),e.quadraticCurveTo(t,n,t+o,n),e.closePath()}},487:function(e,t,n){},488:function(e,t,n){},489:function(e,t,n){},494:function(e,t){},496:function(e,t){},527:function(e,t,n){},528:function(e,t,n){},530:function(e,t,n){"use strict";n.r(t);var a=n(26),r=n(35),o=n(28),l=n(27),i=n(29),c=n(1),s=n.n(c),u=n(192),m=(n(487),n(193)),f=n(55),p=(n(488),n(96)),h=n(78),g=n.n(h),d=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(l.a)(t).call(this))).shouldComponentUpdate=function(e,t){return e.list!==n.props.list||e.loading!==n.props.loading},n.state={},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this;return console.log(this.props.list),s.a.createElement(c.Fragment,null,s.a.createElement(u.ListItem,null,s.a.createElement("div",{className:"center",style:{textAlign:"center"}},this.props.loading?s.a.createElement(p.a,{style:{margin:"auto"}}):this.props.list.length+" search results...")),this.props.list.map(function(t,n){var a=g.a.stringify({title:t.title,icon:t.icon});return s.a.createElement(u.ListItem,{tappable:!0,key:n,onClick:function(){return e.props.history.push("/icon-generator?".concat(a))}},s.a.createElement("div",{className:"left"},s.a.createElement("img",{className:"list-item__thumbnail",src:t.icon,alt:t.summary})),s.a.createElement("div",{className:"center"},s.a.createElement("div",null,s.a.createElement(u.ListTitle,null,t.title),s.a.createElement("div",{style:{marginLeft:15}},s.a.createElement("p",null,t.summary),s.a.createElement("p",null,"Developer: ",t.developer)))))}))}}]),t}(c.Component);d.defaultProps={list:[],loading:!1};var v=Object(f.f)(d),b=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(l.a)(t).call(this))).handleGooglePlayStoreChange=function(e){n.setState({results:m.a.searchResults,loading:!1})},n.handleChange=function(e){n.setState({text:e.target.value})},n.search=function(){n.setState({loading:!0,results:[]}),m.a.doApplicationSearch(n.state.text)},n.state={text:"",results:m.a.searchResults,loading:!1},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){m.a.on("change",this.handleGooglePlayStoreChange)}},{key:"componentWillUnmount",value:function(){m.a.removeListener("change",this.handleGooglePlayStoreChange)}},{key:"render",value:function(){var e=this.state.text;return s.a.createElement(u.List,{className:"AppSelector"},s.a.createElement(u.ListItem,null,s.a.createElement("div",{className:"center"},s.a.createElement(u.SearchInput,{value:e,onChange:this.handleChange})),s.a.createElement("div",{className:"right"},s.a.createElement(u.Button,{onClick:this.search},"Search"))),s.a.createElement(v,{loading:this.state.loading,list:this.state.results}))}}]),t}(c.Component),E=n(47),y=n.n(E),O=n(77),j=(n(489),n(450)),C=n(460),w=n.n(C),k=n(461),S=n.n(k),T=n(486),L=function(e){return new Promise(function(t){return setTimeout(t,e)})},x=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(l.a)(t).call(this))).componentDidMount=Object(O.a)(y.a.mark(function e(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.fetchTopApps();case 2:case"end":return e.stop()}},e)})),n.handleGooglePlayStoreChange=function(e){n.setState({topApps:m.a.topApps})},n.generate=Object(O.a)(y.a.mark(function e(){var t,a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n.state.topApps),t=new S.a,n.setState({loading:!0}),e.next=5,L(1e3);case 5:return e.next=7,Promise.all(n.state.topApps.map(function(e){return new Promise(function(t,n){var a=document.createElement("canvas");a.width=512,a.height=512,Object(j.a)({canvas:a,firstLetter:e.title[0],shape:"auto",url:e.icon}).then(function(){a.toBlob(function(n){t({blob:n,app:e})},"image/png")})})}));case 7:return e.sent.forEach(function(e){var n=e.blob,a=e.app,r=w()(a.title,{remove:/[*+~.()'"!:@]/g}).toLowerCase()+".png";t.file(r,n)}),e.next=11,t.generateAsync({type:"blob"});case 11:a=e.sent,Object(T.saveAs)(a,"top-apps-office-like-icons.zip"),n.setState({loading:!1});case 14:case"end":return e.stop()}},e)})),n.state={topApps:[]},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){m.a.on("change",this.handleGooglePlayStoreChange)}},{key:"componentWillUnmount",value:function(){m.a.removeListener("change",this.handleGooglePlayStoreChange)}},{key:"render",value:function(){return s.a.createElement("div",{className:"GenerateIconsForMostPopularApps"},s.a.createElement(u.Button,{disabled:0===this.state.topApps.length,onClick:this.generate},"Generate"),s.a.createElement("br",null),this.state.loading?s.a.createElement(p.a,{style:{margin:"20px auto"}}):null)}}]),t}(c.Component),P=(n(527),function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(l.a)(t).call(this))).generate=Object(O.a)(y.a.mark(function e(){var t,a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return 0===n.state.files.length&&alert("No files selected"),console.log(n.state.files),t=new S.a,n.setState({loading:!0}),e.next=6,L(1e3);case 6:return e.next=8,Promise.all(Array.from(n.state.files).map(function(e){return new Promise(function(t,n){var a=document.createElement("canvas");a.width=512,a.height=512;var r=window.URL.createObjectURL(e);Object(j.a)({canvas:a,firstLetter:e.name[0],shape:"auto",url:r}).then(function(){window.URL.revokeObjectURL(r),a.toBlob(function(n){var a=e.name.split(".").slice(0,-1).join(".");t({blob:n,app:{title:a}})},"image/png")})})}));case 8:return e.sent.forEach(function(e){var n=e.blob,a=e.app,r=w()(a.title,{remove:/[*+~.()'"!:@]/g}).toLowerCase()+".png";t.file(r,n)}),e.next=12,t.generateAsync({type:"blob"});case 12:a=e.sent,Object(T.saveAs)(a,"custom-office-like-icons.zip"),n.setState({loading:!1});case 15:case"end":return e.stop()}},e)})),n.state={files:[]},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"CustomIconGenerator"},s.a.createElement("input",{onChange:function(t){return e.setState({files:t.target.files})},type:"file",multiple:!0,accept:"image/*"})," ",s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement(u.Button,{onClick:this.generate},"Generate")," ",s.a.createElement("br",null),this.state.loading?s.a.createElement(p.a,{style:{margin:"20px auto"}}):null)}}]),t}(c.Component)),I=(n(528),function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(o.a)(this,Object(l.a)(t).call(this))).renderBottomToolbar=function(){return s.a.createElement(u.Toolbar,null,s.a.createElement("div",{className:"left"}),s.a.createElement("div",{className:"center"},"Office-like Icon Generator"),s.a.createElement("div",{className:"right"}))},n.state={},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentWillMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return s.a.createElement(u.Page,{className:"Home",renderBottomToolbar:this.renderBottomToolbar},s.a.createElement(u.List,null,s.a.createElement(u.ListHeader,null,"Select an app from the google play store."),s.a.createElement(u.ListItem,null,s.a.createElement(b,null)),s.a.createElement(u.ListHeader,null,"Generate office like icons for the most popular play store apps."),s.a.createElement(u.ListItem,null,s.a.createElement(x,null)),s.a.createElement(u.ListHeader,null,"Generate custom office like icons."),s.a.createElement(u.ListItem,null,s.a.createElement(P,null))))}}]),t}(c.Component));t.default=I}}]);
//# sourceMappingURL=4.632202e7.chunk.js.map